<html>

<head>
    <script>
        function getLocation() {
            navigator.geolocation.getCurrentPosition(position, error);
        }

        function position(pos) {
            document.getElementById("lat").value = pos.coords.latitude;
            document.getElementById("long").value = pos.coords.longitude;
        }

        function error(err) {
            switch (err.code) {
                case err.PERMISSION_DENIED:
                    window.alert("Accessi al servizio di localizzazione proibito.");
                    break;
                case err.POSITION_UNAVAILABLE:
                    window.alert("Servizio di localizzazione non disponibile");
                    break;
                case err.TIMEOUT:
                    window.alert("Timeout del servizio di localicazzione.");
                    break;
                case err.UNKNOWN_ERROR:
                    window.alert("Errore di accesso al servizio di localizzazione");
                    break;
            }
        }
    </script>
</head>

<body onload="getLocation()">
    <form id="poiLL" method="GET" action="poi.php">
        <fieldset name="posizione">
            <legend>Posizione</legend>
            <input type="text" placeholder="latitudine" id="lat" name="latitudine">
            <input type="text" placeholder="longitudine" id="long" name="longitudine">
        </fieldset>
        <br>
    </form>
    <input id="btn" type="submit"value="Richiedi descrizione POI" form="poiLL">
</body>

</html>